<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<title>Pharen Basics</title>
	
	<link rel='stylesheet' href='css/syntax.css'/>
	<link rel='stylesheet' href='css/screen.css' media='screen, projection'/>
</head>
<body>
	<div id='topbar'>
		<h2>Pharen: Lisp -> PHP</h2>
	</div>
	<div id='sidebar'>
		<ul>
			<li><a href='index.html'>Introduction</a></li>
			<li><a href='download.html'>Downloading and usage</a></li>
			<li><a href='basics.html'>Pharen Basics</a></li>
			<li><a href='lists.html'>Lists and Dictionaries</a></li>
		</ul>
	</div>
	
	<div id='content'>
		<h2 id='pharen_basics'>Pharen Basics</h2>

<h3 id='atomic-types'>Atomic Types</h3>

<p>Strings, numbers, booleans, and null are the main atomic (single value) expressions in Pharen. Strings are always double-quoted and booleans and null should be in all-caps so that Pharen can recognize them. Otherwise, they are the same as in PHP:</p>
<div class='highlight'><pre><code class='clojure'><span class='s'>&quot;This is a string&quot;</span>
<span class='mi'>1</span>  <span class='mf'>2.3</span>  <span class='mi'>-4</span>
<span class='nv'>TRUE</span> <span class='nv'>FALSE</span> <span class='nv'>NULL</span>
</code></pre>
</div>
<h3 id='comments'>Comments</h3>

<p>Comments start with a semicolon and continue to the end of the line.</p>
<div class='highlight'><pre><code class='clojure'><span class='c1'>; This is a comment</span>
<span class='p'>(</span><span class='nf'>this</span> <span class='nv'>is</span> <span class='nv'>code</span><span class='p'>)</span>
</code></pre>
</div>
<h3 id='variables'>Variables</h3>

<p>Variables do not have the <code>$</code> prefix unless used as a function name (explained below). To define a single variable in the current scope, use the <code>def</code> keyword:</p>
<div class='code-left'>

<div class='highlight'><pre><code class='clojure'><span class='p'>(</span><span class='k'>def </span><span class='nv'>myvar</span> <span class='s'>&quot;my value&quot;</span><span class='p'>)</span>
<span class='p'>(</span><span class='k'>def </span><span class='nv'>some-number</span> <span class='p'>(</span><span class='nb'>* </span><span class='mi'>6</span> <span class='mi'>9</span><span class='p'>))</span>
</code></pre>
</div>

</div><div class='code-right'>

<div class='highlight'><pre><code class='perl'><span class='nv'>$myvar</span> <span class='o'>=</span> <span class='s'>&quot;my value&quot;</span><span class='p'>;</span>
<span class='nv'>$some_number</span> <span class='o'>=</span> <span class='mi'>6</span> <span class='o'>*</span> <span class='mi'>9</span><span class='p'>;</span>
</code></pre>
</div>

</div>
<p>To define multiple variables at the same time and and create a <em>new</em> scope for them, use <code>let</code>:</p>
<div class='highlight'><pre><code class='clojure'><span class='c1'>; Create three variables, with the third variable&#39;s value being</span>
<span class='c1'>; an expression using the two previous variables</span>
<span class='p'>(</span><span class='k'>let </span><span class='p'>(</span>
    <span class='p'>(</span><span class='nf'>greeting</span> <span class='s'>&quot;hello&quot;</span><span class='p'>)</span>
    <span class='p'>(</span><span class='nf'>username</span> <span class='s'>&quot;visitor&quot;</span><span class='p'>)</span>
    <span class='p'>(</span><span class='nf'>full-text</span> <span class='p'>(</span><span class='o'>.</span> <span class='nv'>greeting</span> <span class='s'>&quot; &quot;</span> <span class='nv'>username</span> <span class='s'>&quot;!&quot;</span><span class='p'>)))</span>
	
    <span class='p'>(</span><span class='nf'>echo</span> <span class='nv'>full-text</span><span class='p'>))</span>
<span class='c1'>; Output: hello visitor!</span>
</code></pre>
</div>
<p><a href='scope.html'>Scope</a> is much more important in Pharen than in PHP, which is why there is special keyword just to create variables in a new scope.</p>

<h5 id='superglobals'>Superglobals</h5>

<p>The <code>$</code> keyword is provided for quick access to superglobals such as $_GET and $_POST:</p>
<div class='highlight'><pre><code class='clojure'><span class='c1'>; $_POST[&quot;username&quot;]</span>
<span class='p'>(</span><span class='nf'>$</span> <span class='nv'>post</span> <span class='s'>&quot;username&quot;</span><span class='p'>)</span>

<span class='c1'>; $_SERVER[&quot;PHP_SELF&quot;]</span>
<span class='p'>(</span><span class='nf'>$</span> <span class='nv'>server</span> <span class='s'>&quot;PHP_SELF&quot;</span><span class='p'>)</span>
</code></pre>
</div>
<h3 id='function-calls'>Function Calls</h3>

<p>Function calls are always in prefix notation as in other lisps. The function name is followed by the arguments, using spaces as delimiters. Everything is then enclosed by parentheses.</p>
<div class='code-left'>
<div class='highlight'><pre><code class='clojure'><span class='p'>(</span><span class='nf'>func</span> <span class='nv'>arg1</span> <span class='nv'>arg2</span> <span class='nv'>argN</span><span class='p'>)</span>
</code></pre>
</div>
</div><div class='code-right'>
<div class='highlight'><pre><code class='perl'><span class='n'>func</span><span class='p'>(</span><span class='nv'>$arg1</span><span class='p'>,</span> <span class='nv'>$arg2</span><span class='p'>,</span> <span class='nv'>$argN</span><span class='p'>);</span>
</code></pre>
</div>
</div>
<p>If you want to use a variable as the function name:</p>
<div class='highlight'><pre><code class='clojure'><span class='p'>(</span><span class='nf'>$funcvar</span> <span class='nv'>arg1</span> <span class='nv'>arg2</span> <span class='nv'>argN</span><span class='p'>)</span>
</code></pre>
</div>
<h3 id='infix-operators'>Infix Operators</h3>

<p>Infix operators, such as boolean and arithmetic operators, are also used as regular function calls. For boolean operators, <code>and</code> and <code>or</code> are used instead of <code>&amp;&amp;</code> and <code>||</code>. In the resulting PHP, the operator is interspersed between its arguments:</p>
<div class='code-left'>

<div class='highlight'><pre><code class='clojure'><span class='p'>(</span><span class='nb'>+ </span> <span class='mi'>2</span>
    <span class='p'>(</span><span class='nb'>* </span><span class='mi'>4</span> <span class='mi'>2</span><span class='p'>)</span>
    <span class='p'>(</span><span class='nb'>- </span><span class='mi'>5</span> <span class='mi'>6</span><span class='p'>)))</span>

<span class='p'>(</span><span class='nb'>or </span><span class='nv'>value1</span>
    <span class='p'>(</span><span class='nb'>and </span><span class='nv'>value2</span> <span class='p'>(</span><span class='nf'>some-func</span><span class='p'>)))</span>
</code></pre>
</div>

</div><div class='code-right'>

<div class='highlight'><pre><code class='perl'><span class='p'>(</span><span class='mi'>2</span> <span class='o'>+</span> <span class='p'>(</span><span class='mi'>4</span> <span class='o'>*</span> <span class='mi'>2</span><span class='p'>)</span> <span class='o'>+</span> <span class='p'>(</span><span class='mi'>5</span> <span class='o'>-</span> <span class='mi'>6</span><span class='p'>)))</span>

<span class='p'>(</span><span class='nv'>$value1</span> <span class='ow'>or</span> <span class='p'>(</span><span class='nv'>$value2</span> <span class='ow'>and</span> <span class='n'>some_func</span><span class='p'>()))</span>
</code></pre>
</div>

</div>
<p>One of the advantages of prefix notation is the lack of precedence rules; everything is already enclosed in parentheses. The parentheses are kept in the resulting PHP code to keep the intended precedence order.</p>
	</div>
	
	<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
	try{
	var pageTracker = _gat._getTracker("UA-xxxxxx-x");
	pageTracker._trackPageview();
	} catch(err) {}</script>
</body>
</html>