(define "LIB_PATH" "/Applications/MAMP/htdocs/pharen/lib/")
(set_include_path (. (get_include_path) PATH_SEPARATOR LIB_PATH))

(fn first (xs)
    (at xs 0))

(fn rest (xs)
    (array_slice xs 1))

(fn early (xs)
    (array_slice xs 0 (- (count xs) 2)))

(fn cons (x xs)
    (array_merge (array x) xs))

(fn apply (f val)
    ($f val))

(fn map (f xs)
    (if (== (sizeof xs) 0)
        (array)
        (cons ($f (first xs))
              (map f (rest xs)))))
